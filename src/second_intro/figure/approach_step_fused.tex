\begin{tikzpicture}[
  font=\sffamily,
  every matrix/.style={ampersand replacement=\&,column sep=2.5cm,row sep=1cm},
  source/.style={draw,thick,rounded corners,fill=yellow!20,inner sep=.3cm},
  process/.style={draw,thick,circle,fill=blue!20},
  sink/.style={source,fill=green!20},
  datastore/.style={draw,very thick,shape=datastore,inner sep=.3cm},
  dots/.style={gray,scale=2},
  to/.style={->,>=stealth',shorten >=1pt,semithick,font=\sffamily\footnotesize},
  every node/.style={align=center}]

  % Position the nodes using a matrix layout
  \matrix{
    \node[datastore] (architecture) {Architecture};
      \& \node[sink] (identification) {%
         \begin{tabular}{@{}c@{}}
            Cache Coherence Identification\\
            (Chapter~\ref{cha:identifying_cache_coherence})
         \end{tabular}
         };
      \&
    \node[datastore] (cacheprotocol) {%
         \begin{tabular}{@{}c@{}}
            Cache Coherence\\ Protocol
         \end{tabular}
         };
      \\


   \&
      \&
   \\
      \&
      \node[source] (benchmarking) {%
         \begin{tabular}{@{}c@{}}
            Benchmarking\\
            (Chapter~\ref{cha:micro-benchs})
         \end{tabular}
      };
      \&
    \node[datastore] (cacheperformance) {%
         \begin{tabular}{@{}c@{}}
            Cache Coherence\\
            Performance
         \end{tabular}
      };
      \\



   \&
      \&
   \\
      \node[datastore] (application) {Application};
      \&
      \node[sink] (uppaal) {
         \begin{tabular}{@{}c@{}}
            UPPAAL Analysis\\
            (Chapters~\ref{cha:modeling_cache_coherence} and
            \ref{chap:exposing_interference})
         \end{tabular}
         };
      \&
      \node[datastore] (coherenceeffect) {%
         \begin{tabular}{@{}c@{}}
            Cache Coherence\\
            Impact
         \end{tabular}
      };
   \\
  };

  % Draw the arrows between the nodes and label them.
  \draw[to] (architecture) to (identification);

  \draw[to] (identification) to (cacheprotocol);



  \draw[to] (architecture) to (benchmarking.north west);
  \draw[to] (cacheprotocol) to (benchmarking.north east);

  \draw[to] (benchmarking) to (cacheperformance);



  \draw[to] (architecture) to (uppaal.north west);
  \draw[to] (cacheperformance) to (uppaal.north east);
  \draw[to] (cacheprotocol) to (uppaal);
  \draw[to] (application) to (uppaal);

  \draw[to] (uppaal) to (coherenceeffect);
\end{tikzpicture}
